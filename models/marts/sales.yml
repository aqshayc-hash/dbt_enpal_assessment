version: 2

models:
  - name: rep_sales_funnel_monthly
    description: "Monthly overview of unique deals entering each funnel step."
    columns:
      - name: month
        description: "The reporting month (1st of the month)"
        tests: [not_null]
      - name: kpi_name
        description: "Name of the funnel stage"
      - name: funnel_step
        description: "Numeric order of the stage (1-9)"
      - name: deals_count
        description: "Number of unique deals that entered this stage this month"
        tests: 
          - not_null
          - dbt_utils.at_least_one